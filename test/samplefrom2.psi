
def newDistr(w){
    (x,y,z) := sampleFrom("(x,y,z;w) => [-1<=x]*[x<=1]*[-1<=y]*[y<=1]*|x|*|y|*delta(z-w)",w);
    return (x,y,z);
}

def main(){
    (x,y,z) := newDistr(3);
    return (x+y+z); // expected: (((-4·r₁+4+r₁²)·[-3+r₁≤0]+[-r₁+3≠0]·[-r₁+3≤0])·(-1/2·r₁+3/2)+(-2·r₁²+-8/3+1/3·r₁³+4·r₁)·[-3+r₁≤0]+-25/6·[-r₁+3≠0]·[-r₁+3≤0]+-3/2·[-r₁+3≠0]·[-r₁+3≤0]·r₁²+1/6·[-r₁+3≠0]·[-r₁+3≤0]·r₁³+9/2·[-r₁+3≠0]·[-r₁+3≤0]·r₁)·([-3+r₁≤0]·[-r₁+2≤0]+[-4+r₁≤0]·[-r₁+3≠0]·[-r₁+3≤0])+(((-6·r₁+9+r₁²)·[-4+r₁≤0]+[-r₁+4≠0]·[-r₁+4≤0])·(-3/2+1/2·r₁)+(-1/3·r₁³+-9·r₁+3·r₁²+9)·[-4+r₁≤0]+-1/3·[-r₁+4≠0]·[-r₁+4≤0]+-1/6·[-r₁+4≤0]·r₁³+-4·[-r₁+4≤0]·r₁+3/2·[-r₁+4≤0]·r₁²+8/3·[-r₁+4≤0])·([-4+r₁≤0]·[-r₁+3≤0]·[-r₁+4≠0]+[-5+r₁≤0]·[-r₁+4≤0])+(((-6·r₁+9+r₁²)·[-r₁+2≠0]·[-r₁+2≤0]+[-2+r₁≤0])·(-1/2·r₁+3/2)+(-3·r₁²+-9+1/3·r₁³+9·r₁)·[-r₁+2≠0]·[-r₁+2≤0]+-11/3·[-2+r₁≤0]+-3/2·[-2+r₁≤0]·r₁²+1/6·[-2+r₁≤0]·r₁³+4·[-2+r₁≤0]·r₁)·([-2+r₁≤0]·[-r₁+1≤0]+[-3+r₁≤0]·[-r₁+2≠0]·[-r₁+2≤0])+(((-8·r₁+16+r₁²)·[-r₁+3≤0]+[-3+r₁≤0]·[-r₁+3≠0])·(-3/2+1/2·r₁)+(-1/3·r₁³+-16·r₁+4·r₁²+64/3)·[-r₁+3≤0]+-1/6·[-3+r₁≤0]·[-r₁+3≠0]·r₁³+-9/2·[-3+r₁≤0]·[-r₁+3≠0]·r₁+29/6·[-3+r₁≤0]·[-r₁+3≠0]+3/2·[-3+r₁≤0]·[-r₁+3≠0]·r₁²)·([-3+r₁≤0]·[-r₁+2≤0]·[-r₁+3≠0]+[-4+r₁≤0]·[-r₁+3≤0])
}
